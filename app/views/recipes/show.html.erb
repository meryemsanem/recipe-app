<h1><%= @recipe.name %></h1>

<div class="recipe-container">
  <p><strong>Preparation time :</strong> <%= @recipe.preparation_time %> hours</p>

  <%= form_for @recipe, url: toggle_public_recipe_path(@recipe), method: :patch, remote: true, authenticity_token: true, html: { class: 'toggle-form' } do |f| %>
    <div class="slider-container">
    <span class="switch-label">
    <%= @recipe.public ? "Public" : "Private" %>
    </span>
    <label class="switch">  
    <%= f.check_box :public, { class: "toggle-switch" }, 0, 1 %>
      <span class="slider round"></span>
    </label>
  </div>
  <%= f.hidden_field :public, value: @recipe.public ? 0 : 1 %>
  <%= f.submit 'Toggle', class: 'hidden-submit', style: 'display: none;' %>
<% end %>

  <p><strong>Cooking time :</strong> <%= @recipe.cooking_time %> hours</p>
  <p><strong>Steps go here...</strong></p>
  <div>
    <%= link_to 'Generate Shopping List', general_shopping_list_path, class: "recipe-button" %>
    <% if @recipe.user == current_user %>
      <%= link_to 'Add Ingredient', new_recipe_recipe_food_path(@recipe), class: "recipe-button" %>
    <% end %>
  </div>
  <hr>

  <div class="recipe-foods-container">
 <table class="recipe-foods-table">
  <thead>
    <tr>
      <th>Food</th>
      <th>Quantity</th>
      <th>Value</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <% @recipe.recipe_foods.each do |recipe_food| %>
     <tr>
      <td><%= recipe_food.food.name %></td>
      <td><%= recipe_food.food.quantity %></td>
      <td>$<%= recipe_food.food.price * recipe_food.quantity %></td>
      <td>
       <%= link_to 'Modify', edit_recipe_recipe_food_path(@recipe, recipe_food), class: 'edit-btn' %>
       <%= button_to 'Remove', recipe_recipe_food_path(@recipe, recipe_food), method: :delete, class: 'remove-btn' %>
  </td>
</tr>
    <% end %>
  </tbody>
</table>
  </div>
</div>
